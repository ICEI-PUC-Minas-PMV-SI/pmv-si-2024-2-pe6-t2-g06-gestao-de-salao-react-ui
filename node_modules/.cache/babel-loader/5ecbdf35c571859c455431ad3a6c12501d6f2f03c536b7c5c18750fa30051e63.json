{"ast":null,"code":"// Services/AuthService.ts\nexport const loginAPI = async (email, senha) => {\n  try {\n    const response = await fetch('https://localhost:5001/gateway/Usuarios/authentication', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      body: JSON.stringify({\n        email: email,\n        senha: senha\n      })\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Ensure the server returns userId\n    return data; // This should now include { token, email, userId }\n  } catch (error) {\n    console.error('Error during login:', error);\n    throw error;\n  }\n};","map":{"version":3,"names":["loginAPI","email","senha","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","error","console"],"sources":["C:/ProjetoSalao/pmv-si-2024-2-pe6-t2-g06-gestao-de-salao-react-ui/src/Pages/Services/AuthService.tsx"],"sourcesContent":["// Services/AuthService.ts\r\nexport const loginAPI = async (email: string, senha: string) => {\r\n  try {\r\n    const response = await fetch('https://localhost:5001/gateway/Usuarios/authentication', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        email: email,\r\n        senha: senha,\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    // Ensure the server returns userId\r\n    return data; // This should now include { token, email, userId }\r\n  } catch (error) {\r\n    console.error('Error during login:', error);\r\n    throw error; \r\n  }\r\n};"],"mappings":"AAAA;AACA,OAAO,MAAMA,QAAQ,GAAG,MAAAA,CAAOC,KAAa,EAAEC,KAAa,KAAK;EAC9D,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wDAAwD,EAAE;MACrFC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,QAAQ,EAAE;MACZ,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBR,KAAK,EAAEA,KAAK;QACZC,KAAK,EAAEA;MACT,CAAC;IACH,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBR,QAAQ,CAACS,MAAM,EAAE,CAAC;IAC3D;IAEA,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;;IAElC;IACA,OAAOD,IAAI,CAAC,CAAC;EACf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}